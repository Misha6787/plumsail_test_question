(function(){"use strict"; var e={6829:function(e,t,i){var n=i(9242),a=i(3396),s=(i(7658),i(7139)),r=i.p+"img/preloader.87ce5eaa.svg",l=i(4870),o=i(6088),u=(0,a.aZ)({__name:"BaseIcon",props:{icon:{type:String,required:!0},width:{type:String,default:28},height:{type:String,default:28}},setup(e){return(t,i)=>((0,a.wg)(),(0,a.j4)((0,l.SU)(o.JO),{icon:e.icon,width:e.width,height:e.height},null,8,["icon","width","height"]))}});const c=u;var d=c;const p=()=>localStorage.getItem("cities")?JSON.parse(localStorage.getItem("cities")):[],m=e=>localStorage.setItem("cities",JSON.stringify(e)),h={class:"settings-item"},g={class:"settings-item__title"};var v=(0,a.aZ)({__name:"SettingsItem",props:{city:{type:Object,required:!0}},emits:["getCities","synchronizeLists"],setup(e,{emit:t}){const i=e=>{const i=p();i.find(((t,n)=>t.id===e?i.splice(n,1):null)),m(i),t("getCities"),t("synchronizeLists")};return(t,n)=>((0,a.wg)(),(0,a.iD)("li",h,[(0,a._)("div",g,[(0,a.Wm)(d,{icon:"iconamoon:menu-burger-horizontal",width:"20",height:"20",style:{"margin-right":"8px"}}),(0,a.Uk)(" "+(0,s.zw)(e.city.name),1)]),(0,a._)("button",{class:"settings-item__delete",onClick:n[0]||(n[0]=t=>i(e.city.id))},[(0,a.Wm)(d,{icon:"bi:trash-fill",width:"20",height:"20"})])]))}}),f=i(89);const w=(0,f.Z)(v,[["__scopeId","data-v-0c9f39a4"]]);var y=w;const _=["placeholder","value"];var b=(0,a.aZ)({__name:"BaseInput",props:{modelValue:{type:String,required:!1},placeholder:{type:String,default:"Text"}},emits:["update:modelValue"],setup(e){return(t,i)=>((0,a.wg)(),(0,a.iD)("input",{type:"text",placeholder:e.placeholder,class:"weather-input",value:e.modelValue,onInput:i[0]||(i[0]=e=>t.$emit("update:modelValue",e.target.value))},null,40,_))}});const S=b;var k=S,W=i(6983),O=i.n(W),z=i(4161);i(6027);const C={key:0,class:"settings-modal"},j=(0,a._)("h4",{class:"settings-modal__title"},"Settings",-1),x={class:"settings-list"},V={class:"add-city"},T=(0,a._)("h4",null,"Add location",-1),D=["onSubmit"],I={type:"submit",class:"add-city-btn"},Z={key:0,class:"error-message"};var H=(0,a.aZ)({__name:"TheSettings",props:{citiesWeather:{type:Array,required:!0}},emits:["getCities"],setup(e,{emit:t}){const i=e,r=(0,l.iH)(""),o=(0,l.iH)(!1),u=(0,l.iH)({status:!1,message:""}),c=(0,l.iH)(i.citiesWeather),h=()=>{u.value={status:!1,message:""}},g=()=>{h(),o.value=!o.value},v=()=>{c.value=p()},f=async()=>{const e=[...i.citiesWeather];await z.Z.get(`http://api.openweathermap.org/data/2.5/weather?q=${r.value}&units=metric&lang=en&appid=efb3f138bcc5828f7116e4381f313dd8`).then((n=>{const a=i.citiesWeather.find((e=>e.id===n.data.id));void 0===a?(e.push(n.data),m(e),r.value="",c.value=e,h(),t("getCities")):u.value={status:!0,message:"This city has already been added"}})).catch((()=>{u.value={status:!0,message:"This city doesn't exist."}}))},w=()=>{m(c.value),t("getCities")};return(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("button",{onClick:g,class:"settings-btn"},[(0,a.Wm)(d,{icon:"bi:gear",class:"settings"})]),(0,a.Wm)(n.uT,{name:"slide-fade"},{default:(0,a.w5)((()=>[o.value?((0,a.wg)(),(0,a.iD)("div",C,[j,(0,a._)("ul",x,[(0,a.Wm)((0,l.SU)(O()),{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),"item-key":"id",onEnd:w},{item:(0,a.w5)((({element:i})=>[(0,a.Wm)(y,{city:i,onGetCities:t[0]||(t[0]=t=>e.$emit("getCities")),onSynchronizeLists:v},null,8,["city"])])),_:1},8,["modelValue"])]),(0,a._)("div",V,[T,(0,a._)("form",{onSubmit:(0,n.iM)(f,["prevent"]),class:"add-city-actions"},[(0,a.Wm)(k,{placeholder:"City name",class:"add-city-input",modelValue:r.value,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value=e),onInput:t[3]||(t[3]=e=>u.value=!1)},null,8,["modelValue"]),(0,a._)("button",I,[(0,a.Wm)(d,{icon:"material-symbols:subdirectory-arrow-left-rounded"})])],40,D),u.value.status?((0,a.wg)(),(0,a.iD)("p",Z,(0,s.zw)(u.value.message),1)):(0,a.kq)("",!0)]),(0,a._)("button",{class:"settings-close",onClick:g},[(0,a.Wm)(d,{icon:"icon-park-outline:close"})])])):(0,a.kq)("",!0)])),_:1})],64))}});const q=H;var P=q;const $={key:0,class:"weather-app"},M={class:"weather-content"},U={class:"weather-temp"},A=["src"],E={class:"weather-temp__text"},J={class:"weather-block"},L={class:"weather-item"},B={class:"weather-item"},F={class:"weather-block"},G={class:"weather-item"},N={class:"weather-item"},Y={key:1,class:"preloader"},K=(0,a._)("img",{src:r,alt:"preloader"},null,-1),Q=[K];var R=(0,a.aZ)({__name:"TheWidjet",setup(e){const t=(0,l.iH)([]),i=navigator.geolocation,n=()=>{t.value=p()},r=e=>e/1e3+"km";return(0,a.bv)((async()=>{n(),0===t.value.length&&i.getCurrentPosition((async e=>{const i=e.coords.latitude,n=e.coords.longitude,a=await z.Z.get(`http://api.openweathermap.org/data/2.5/weather?lat=${i}&lon=${n}&units=metric&lang=en&appid=efb3f138bcc5828f7116e4381f313dd8`).then((e=>e.data));m([a]),t.value.push(a)}))})),(e,i)=>0!==t.value.length?((0,a.wg)(),(0,a.iD)("div",$,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.value,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"weather-container",key:e.id},[(0,a._)("div",M,[(0,a._)("h4",null,(0,s.zw)(e.name)+", "+(0,s.zw)(e.sys.country),1),(0,a._)("p",U,[(0,a._)("img",{src:`https://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`,alt:""},null,8,A),(0,a._)("b",E,(0,s.zw)(Math.round(e.main.temp))+"°С",1)]),(0,a._)("p",null,"Feels like "+(0,s.zw)(e.main.feels_like)+"°С. "+(0,s.zw)(e.weather[0].description),1),(0,a._)("p",J,[(0,a._)("div",L,[(0,a.Wm)(d,{icon:"mdi-navigation",style:{transform:"rotate(-35deg)","margin-left":"-6px"}}),(0,a._)("span",null,(0,s.zw)(e.wind.speed)+"m/s SSE",1)]),(0,a._)("div",B,[(0,a.Wm)(d,{icon:"healthicons:blood-pressure-outline"}),(0,a._)("span",null,(0,s.zw)(e.main.pressure)+"hPa",1)])]),(0,a._)("p",F,[(0,a._)("div",G," Humidity: "+(0,s.zw)(e.main.humidity)+"% ",1),(0,a._)("div",N," Visibility: "+(0,s.zw)(r(e.visibility)),1)])])])))),128)),(0,a.Wm)(P,{citiesWeather:t.value,onGetCities:n},null,8,["citiesWeather"])])):((0,a.wg)(),(0,a.iD)("div",Y,Q))}});const X=R;var ee=X,te=(0,a.aZ)({__name:"App",setup(e){return(e,t)=>((0,a.wg)(),(0,a.j4)(ee))}});const ie=te;var ne=ie;(0,n.ri)(ne).mount("weather-widjet")}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,i),s.exports}i.m=e,function(){var e=[];i.O=function(t,n,a,s){if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],s=e[c][2];for(var l=!0,o=0;o<n.length;o++)(!1&s||r>=s)&&Object.keys(i.O).every((function(e){return i.O[e](n[o])}))?n.splice(o--,1):(l=!1,s<r&&(r=s));if(l){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,a,s]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.p="/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,s,r=n[0],l=n[1],o=n[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(a in l)i.o(l,a)&&(i.m[a]=l[a]);if(o)var c=o(i)}for(t&&t(n);u<r.length;u++)s=r[u],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(c)},n=self["webpackChunkvue"]=self["webpackChunkvue"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(6829)}));n=i.O(n)})();
//# sourceMappingURL=app.63e9afb3.js.map
